!function(t,s){if("object"==typeof exports&&"object"==typeof module)module.exports=s();else if("function"==typeof define&&define.amd)define([],s);else{var e=s();for(var i in e)("object"==typeof exports?exports:t)[i]=e[i]}}(this,function(){return function(t){function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}var e={};return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},s.p="",s(s.s=5)}({0:function(t,s,e){"use strict";function i(t){alert(t)}s.a=i},5:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(0);({showError:function(t,s){var e=t.siblings(".input__error");e.removeClass("none").css({opacity:0}),e.html(s).stop(!0,!0).animate({opacity:1},function(){t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout(function(){e.stop(!0,!0).animate({opacity:0},function(){$(this).addClass("none").html("")})},2e3)})},checkUser:function(){return""==this.user.val().trim()?(this.showError(this.user,"请输入姓名！"),!1):(this.showError(this.user,""),!0)},checkSexy:function(){return!!this.getSexy().val()||(this.showError(this.sexy.find("label"),"请选择性别！"),!1)},getSexy:function(){return this.sexy.find("input[type=radio]:checked")},checkBirtyday:function(){return""!=this.birthday.val()||(this.showError(this.birthday,"请输入出生日期！"),!1)},checkPassport:function(){var t=this.passport.val().trim();return""==t?(this.showError(this.passport,"请输入身份证号！"),!1):!!/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(t)||(this.showError(this.passport,"请输入正确的身份证号！"),!1)},checkPass:function(){return""!=this.pass.val().trim()||(this.showError(this.pass,"请输入密码！"),!1)},checkRePass:function(){var t=this.repass.val().trim();return""==t?(this.showError(this.repass,"请确认密码！"),!1):t==this.pass.val().trim()||(this.showError(this.repass,"密码不一致！"),!1)},checkPhone:function(){var t=this.phone.val().trim();return""==t?(this.showError(this.phone,"请输入手机号！"),!1):!!/^\d{11}$/.test(t)||(this.showError(this.phone,"请输入正确的手机号！"),!1)},checkCode:function(){return""!=this.code.val().trim()||(this.showError(this.code,"请输入验证码！"),!1)},checkIntroduction:function(){return""!=this.introduction.val().trim()||(this.showError(this.introduction,"请输入个人简介！"),!1)},countDown:function(t){t=t||{};var s=t.time||30,e=t.counting||function(){},i=t.end||function(){},r=null;!function t(){0==s?(clearTimeout(r),r=null,i(s)):(r=setTimeout(t,1e3),e(s)),s--}()},getCode:function(){var t=this;return!!(this.checkUser()&&this.checkSexy()&&this.checkBirtyday()&&this.checkPassport()&&this.checkPass()&&this.checkRePass()&&this.checkPhone())&&(!!this.readyCode&&(this.readyCode=!1,void $.ajax({url:"/Api/Fund/fundmanager",type:"POST",dataType:"json",data:{phone:this.phone.val()},success:function(s){if(1==s.res)return t.codeBtn.addClass("register__btn--line"),t.countDown({counting:function(s){t.codeBtn.html(s+"s")},end:function(){t.codeBtn.removeClass("register__btn--line"),t.codeBtn.html("重新获取"),t.smsReady=!0}}),!1;t.showError(t.codeBtn,s.msg),t.readyCode=!0}})))},submitFunc:function(){var t=this;return!!(this.checkUser()&&this.checkSexy()&&this.checkBirtyday()&&this.checkPassport()&&this.checkPass()&&this.checkRePass()&&this.checkPhone()&&this.checkCode()&&this.checkIntroduction())&&(!!this.ready&&(this.ready=!1,void $.ajax({url:"/Reg/action",type:"POST",dataType:"json",data:{user_name:this.user.val(),sex:this.getSexy().val(),birthday:this.birthday.val(),phone:this.phone.val(),passport:this.passport.val(),code:this.code.val(),introduction:this.introduction.val()},success:function(s){1==s.res?(i.a(res.msg),s.data.url&&(window.location.href=s.data.url)):i.a(res.msg),t.ready=!0}})))},init:function(){this.ready=!0,this.readyCode=!0,this.user=$("#user"),this.sexy=$("#sexy"),this.birthday=$("#birthday"),this.phone=$("#phone"),this.passport=$("#passport"),this.pass=$("#password"),this.repass=$("#repassword"),this.code=$("#code"),this.codeBtn=$("#codeBtn"),this.introduction=$("#introduction"),this.submitBtn=$("#submitBtn"),this.codeBtn.on("click",this.getCode.bind(this)),this.submitBtn.on("click",this.submitFunc.bind(this))}}).init()}})});