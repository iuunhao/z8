{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap 4f0939f921e276361a25?9c73*****","webpack:///./src/srcjs/_unit.js?a277*****","webpack:///./src/srcjs/addPlan.js"],"names":["showTips","str","alert","Z","showError","msg","$siblings","$error","removeClass","css","opacity","html","stop","animate","timer","clearTimeout","setTimeout","$","addClass","selectPlan","$cur","wrap","find","curTabName","plan","attr","planHue","planLabel","text","val","changePlan","e","$button","target","siblings","selectTagFunc","cname","$value","selectMainHue","checkPlanParams","$planName","$planValue","$planHue","$planCustom","$planPhone","test","canBuy","submitPlan","submitReady","post","form","serializeArray","response","res","init","submitBtn","on","bind"],"mappings":"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","file":"addPlan.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4f0939f921e276361a25","export function showTips(str) {\r\n    alert(str);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/srcjs/_unit.js","import u from './_unit.js'\r\n\r\nconst Z = {\r\n    /**\r\n     * [showError 显示错误信息]\r\n     */\r\n    showError: function(msg) {\r\n        var $siblings = this.$error;\r\n        // show\r\n        $siblings.removeClass('none').css({ opacity: 0 });\r\n        $siblings.html(msg).stop(true, true).animate({ opacity: 1 }, function() {\r\n            if ($siblings.timer) {\r\n                clearTimeout($siblings.timer);\r\n                $siblings.timer = null;\r\n            }\r\n            // hide\r\n            $siblings.timer = setTimeout(function() {\r\n                $siblings.stop(true, true).animate({ opacity: 0 }, function() {\r\n                    $(this).addClass('none').html('');\r\n                })\r\n            }, 2000)\r\n        })\r\n\r\n    },\r\n    selectPlan() {\r\n        var $cur = this.wrap.find(`.chooseHead__btn.${this.curTabName}`);\r\n        this.plan = $cur.attr('type');\r\n\r\n        /**\r\n         * [if 自己装]\r\n         */\r\n        if (this.plan == 1) {\r\n            this.planHue.addClass('none');\r\n            this.planLabel.text('方案标签：');\r\n        }\r\n\r\n        /**\r\n         * [if 智能装]\r\n         */\r\n        if (this.plan == 2) {\r\n            this.planHue.removeClass('none');\r\n            this.planLabel.text('选择风格：');\r\n        }\r\n\r\n\r\n        this.wrap.find('.jsPlanValue').val('')\r\n        this.wrap.find('.jsMainHue').val('')\r\n        this.wrap.find('.stylesTag--active').removeClass('stylesTag--active');\r\n        this.wrap.find('.color--active').removeClass('color--active');\r\n\r\n    },\r\n    changePlan(e) {\r\n        var $button = $(e.target);\r\n        $button.addClass(this.curTabName).siblings('a').removeClass(this.curTabName);\r\n        this.selectPlan();\r\n\r\n\r\n    },\r\n    /**\r\n     * [selectTagFunc 选择方案标签]\r\n     */\r\n    selectTagFunc(e) {\r\n        var $button = $(e.target),\r\n            cname = 'stylesTag--active',\r\n            $value = $button.attr('value');\r\n        $button.addClass(cname).siblings('a').removeClass(cname);\r\n        $button.siblings('input[type=hidden]').val($value);\r\n    },\r\n    /**\r\n     * [selectMainHue 选择主色调]\r\n     */\r\n    selectMainHue(e) {\r\n        var $button = $(e.target),\r\n            cname = 'color--active',\r\n            $value = $button.attr('value');\r\n        $button.addClass(cname).siblings('a').removeClass(cname);\r\n        $button.siblings('input[type=hidden]').val($value);\r\n    },\r\n    /**\r\n     * [checkPlanParams 校验方案所需要参数]\r\n     */\r\n    checkPlanParams() {\r\n        var $planName = this.wrap.find('.jsPlanName').val(),\r\n            $planValue = this.wrap.find('.jsPlanValue').val(),\r\n            $planHue = this.wrap.find('.jsMainHue').val(),\r\n            $planCustom = this.wrap.find('.jsCustomName').val(),\r\n            $planPhone = this.wrap.find('.jsCustomPhone').val();\r\n\r\n        if ($planName == '') {\r\n            this.showError('请输入方案名称');\r\n            return false;\r\n        }\r\n\r\n        if ($planValue == '') {\r\n            if (this.plan == 1) {\r\n                this.showError('请选择方案标签');\r\n            }\r\n            if (this.plan == 2) {\r\n                this.showError('请选择风格');\r\n            }\r\n            return false;\r\n        }\r\n\r\n        if (this.plan == 2 && $planHue == '') {\r\n            this.showError('请选择主色调');\r\n            return false;\r\n        }\r\n\r\n        if ($planCustom == '') {\r\n            this.showError('请输入客户姓名');\r\n            return false;\r\n        }\r\n\r\n        if ($planPhone == '') {\r\n            this.showError('请输入客户电话');\r\n            return false;\r\n        } else {\r\n            if (!/^\\d{11}$/.test($planPhone)) {\r\n                this.showError('请输入正确的电话号码');\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if(this.canBuy == 0) {\r\n            this.showError('额度不足请充值');\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    },\r\n    /**\r\n     * [submitPlan 提交方案]\r\n     */\r\n    submitPlan() {\r\n        if (!this.checkPlanParams()) return false;\r\n\r\n        if (!this.submitReady) return false;\r\n        this.submitReady = false;\r\n        $.post('/', this.form.serializeArray(), (response) => {\r\n            this.submitReady = true;\r\n            if (response.res == 1) {\r\n\r\n            } else {\r\n                this.showError(response.msg);\r\n            }\r\n        }, 'json');\r\n    },\r\n    init() {\r\n        this.form = $('#cForm');\r\n        this.wrap = $('#choose');\r\n\r\n        \r\n        this.canBuy = $('#canBuy').val();\r\n\r\n        /**\r\n         * [$error 错误提示]\r\n         */\r\n        this.$error = $('#errorTips');\r\n\r\n        /**\r\n         * [submitBtn 确认按钮]\r\n         */\r\n        this.submitBtn = $('#submitBtn');\r\n\r\n        /**\r\n         * [planHue 方案色调]\r\n         */\r\n        this.planHue = this.wrap.find('.jsHue');\r\n\r\n        /**\r\n         * [planLabel 方案标签]\r\n         */\r\n        this.planLabel = this.wrap.find('.jsPlanLab');\r\n\r\n        /**\r\n         * [curTabName 切换的类型]\r\n         * @type {String}\r\n         */\r\n        this.curTabName = 'chooseHead__btn--active';\r\n\r\n        /**\r\n         * [plan 方案 1: 自己装 2: 智能装]\r\n         * @type {Number}\r\n         */\r\n        this.plan = 0;\r\n        this.selectPlan();\r\n        this.wrap.on('click', '.chooseHead__btn', this.changePlan.bind(this));\r\n\r\n        /**\r\n         * 选择方案标签\r\n         */\r\n        this.wrap.on('click', '.stylesTag', this.selectTagFunc.bind(this));\r\n\r\n        /**\r\n         * 选择主色调\r\n         */\r\n        this.wrap.on('click', '.color__item', this.selectMainHue.bind(this));\r\n\r\n        /**\r\n         * 提交方案\r\n         */\r\n        this.submitReady = true;\r\n        this.submitBtn.on('click', this.submitPlan.bind(this));\r\n    }\r\n};\r\nZ.init();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/srcjs/addPlan.js"],"sourceRoot":""}